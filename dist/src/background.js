const a0_0x1ae58a=a0_0x4047;(function(_0x5861ff,_0x2ed859){const _0xd21487=a0_0x4047,_0x742e60=_0x5861ff();while(!![]){try{const _0x6c1f38=-parseInt(_0xd21487(0xc0))/0x1*(-parseInt(_0xd21487(0xa2))/0x2)+parseInt(_0xd21487(0xc1))/0x3+parseInt(_0xd21487(0x83))/0x4+parseInt(_0xd21487(0x9b))/0x5*(parseInt(_0xd21487(0x84))/0x6)+parseInt(_0xd21487(0xbf))/0x7+parseInt(_0xd21487(0x94))/0x8+-parseInt(_0xd21487(0x88))/0x9;if(_0x6c1f38===_0x2ed859)break;else _0x742e60['push'](_0x742e60['shift']());}catch(_0x2427a3){_0x742e60['push'](_0x742e60['shift']());}}}(a0_0x499e,0xf1635));class IDBWrapper{constructor(){const _0x3b1c8a=a0_0x4047;this[_0x3b1c8a(0x99)]='CBGuideToolkitDB',this[_0x3b1c8a(0xa6)]=0x1,this['storeName']=_0x3b1c8a(0x7d);}async['init'](){return new Promise((_0x4e2365,_0x4bc206)=>{const _0xe73ea=a0_0x4047,_0x38691a=indexedDB[_0xe73ea(0xae)](this[_0xe73ea(0x99)],this['dbVersion']);_0x38691a['onerror']=()=>_0x4bc206(_0x38691a[_0xe73ea(0xbe)]),_0x38691a['onsuccess']=()=>{const _0x30e70a=_0xe73ea;this['db']=_0x38691a[_0x30e70a(0xaf)],_0x4e2365(this['db']);},_0x38691a[_0xe73ea(0xa8)]=_0x3b8b8f=>{const _0x584a35=_0xe73ea,_0x969270=_0x3b8b8f['target'][_0x584a35(0xaf)];if(!_0x969270[_0x584a35(0x9a)][_0x584a35(0xb6)](this[_0x584a35(0xab)])){const _0x553bea=_0x969270[_0x584a35(0x95)](this['storeName'],{'keyPath':_0x584a35(0xaa)});_0x553bea['createIndex'](_0x584a35(0xaa),_0x584a35(0xaa),{'unique':!![]});}};});}async['saveSelector'](_0x59afc5){const _0x46406a=a0_0x4047;return await this[_0x46406a(0xa1)](),new Promise((_0x2bc4f1,_0x523409)=>{const _0xdb124a=_0x46406a,_0x2bb594=this['db']['transaction']([this[_0xdb124a(0xab)]],_0xdb124a(0x8d)),_0x4aaa63=_0x2bb594['objectStore'](this['storeName']),_0x46c18b=_0x4aaa63['put']({'domain':_0x59afc5[_0xdb124a(0xaa)],'config':_0x59afc5['config'],'lastUpdated':_0x59afc5[_0xdb124a(0x7f)]||new Date()['toISOString']()});_0x46c18b['onsuccess']=()=>_0x2bc4f1(_0x46c18b['result']),_0x46c18b[_0xdb124a(0x7e)]=()=>_0x523409(_0x46c18b[_0xdb124a(0xbe)]);});}async[a0_0x1ae58a(0x9e)](_0x3bdaf0){return await this['init'](),new Promise((_0x425fd4,_0x1569a2)=>{const _0xd842f5=a0_0x4047,_0x27f5b2=this['db']['transaction']([this[_0xd842f5(0xab)]],_0xd842f5(0xac)),_0xd4dc6=_0x27f5b2['objectStore'](this['storeName']),_0x3dc3d8=_0xd4dc6['get'](_0x3bdaf0);_0x3dc3d8['onsuccess']=()=>_0x425fd4(_0x3dc3d8['result']),_0x3dc3d8['onerror']=()=>_0x1569a2(_0x3dc3d8['error']);});}async['getAllSelectors'](){const _0x147ce4=a0_0x1ae58a;return await this[_0x147ce4(0xa1)](),new Promise((_0x3ef0e2,_0x224da3)=>{const _0x515f60=_0x147ce4,_0x1f9983=this['db']['transaction']([this['storeName']],'readonly'),_0x51873=_0x1f9983['objectStore'](this[_0x515f60(0xab)]),_0xe1972=_0x51873['getAll']();_0xe1972['onsuccess']=()=>_0x3ef0e2(_0xe1972[_0x515f60(0xaf)]),_0xe1972['onerror']=()=>_0x224da3(_0xe1972[_0x515f60(0xbe)]);});}async['getLastUpdateTime'](){const _0x591c74=a0_0x1ae58a;try{const _0x4f5de2=await this[_0x591c74(0xa5)]();if(_0x4f5de2['length']===0x0)return null;const _0x2c004d=_0x4f5de2['reduce']((_0x260a3f,_0x107ed8)=>{const _0x53ec0a=_0x591c74;if(!_0x260a3f||!_0x260a3f['lastUpdated'])return _0x107ed8;if(!_0x107ed8||!_0x107ed8['lastUpdated'])return _0x260a3f;return new Date(_0x107ed8[_0x53ec0a(0x7f)])>new Date(_0x260a3f[_0x53ec0a(0x7f)])?_0x107ed8:_0x260a3f;});return _0x2c004d?_0x2c004d[_0x591c74(0x7f)]:null;}catch(_0x395024){return console['error'](_0x591c74(0x8b),_0x395024),null;}}async[a0_0x1ae58a(0xb1)](){const _0xcae211=a0_0x1ae58a;return await this[_0xcae211(0xa1)](),new Promise((_0x1741d6,_0x490488)=>{const _0x302b5f=_0xcae211,_0x3e456f=this['db'][_0x302b5f(0xa4)]([this[_0x302b5f(0xab)]],'readwrite'),_0x1719c2=_0x3e456f['objectStore'](this[_0x302b5f(0xab)]),_0x5d18ed=_0x1719c2[_0x302b5f(0x8f)]();_0x5d18ed[_0x302b5f(0x80)]=()=>_0x1741d6(),_0x5d18ed['onerror']=()=>_0x490488(_0x5d18ed['error']);});}}const GITHUB_REPO=a0_0x1ae58a(0x85),SELECTORS_PATH=a0_0x1ae58a(0x7d),UPDATE_INTERVAL=0x5*0x3c*0x3e8;function a0_0x4047(_0x206fe8,_0x356e46){const _0x499e1c=a0_0x499e();return a0_0x4047=function(_0x404796,_0x57dc01){_0x404796=_0x404796-0x7b;let _0x12e1bc=_0x499e1c[_0x404796];if(a0_0x4047['DSijRX']===undefined){var _0x263294=function(_0x4e2365){const _0x4bc206='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x38691a='',_0x3b8b8f='';for(let _0x969270=0x0,_0x553bea,_0x59afc5,_0x2bc4f1=0x0;_0x59afc5=_0x4e2365['charAt'](_0x2bc4f1++);~_0x59afc5&&(_0x553bea=_0x969270%0x4?_0x553bea*0x40+_0x59afc5:_0x59afc5,_0x969270++%0x4)?_0x38691a+=String['fromCharCode'](0xff&_0x553bea>>(-0x2*_0x969270&0x6)):0x0){_0x59afc5=_0x4bc206['indexOf'](_0x59afc5);}for(let _0x523409=0x0,_0x2bb594=_0x38691a['length'];_0x523409<_0x2bb594;_0x523409++){_0x3b8b8f+='%'+('00'+_0x38691a['charCodeAt'](_0x523409)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3b8b8f);};a0_0x4047['vInwfr']=_0x263294,_0x206fe8=arguments,a0_0x4047['DSijRX']=!![];}const _0x44d0cf=_0x499e1c[0x0],_0x20c5c4=_0x404796+_0x44d0cf,_0x13e3a0=_0x206fe8[_0x20c5c4];return!_0x13e3a0?(_0x12e1bc=a0_0x4047['vInwfr'](_0x12e1bc),_0x206fe8[_0x20c5c4]=_0x12e1bc):_0x12e1bc=_0x13e3a0,_0x12e1bc;},a0_0x4047(_0x206fe8,_0x356e46);}let db;chrome[a0_0x1ae58a(0xbb)][a0_0x1ae58a(0xc5)][a0_0x1ae58a(0x91)](async()=>{const _0x3063b6=a0_0x1ae58a;console[_0x3063b6(0xad)](_0x3063b6(0x81)),chrome[_0x3063b6(0xb8)][_0x3063b6(0x96)][_0x3063b6(0x8e)]([_0x3063b6(0xb3)],_0xa04f0f=>{const _0x34228e=_0x3063b6;_0xa04f0f['enabled']===undefined&&(chrome[_0x34228e(0xb8)]['sync']['set']({'enabled':!![]}),console['log'](_0x34228e(0xbc)));}),await initIndexedDB(),await fetchAllSelectors(),setInterval(fetchAllSelectors,UPDATE_INTERVAL);});async function initIndexedDB(){const _0x3bbf3c=a0_0x1ae58a;try{db=new IDBWrapper(),await db[_0x3bbf3c(0xa1)](),console[_0x3bbf3c(0xad)](_0x3bbf3c(0x8a));}catch(_0x48d4eb){console[_0x3bbf3c(0xbe)]('CB\x20Guide\x20Toolkit:\x20IndexedDB\x20initialization\x20failed:',_0x48d4eb);}}async function fetchAllSelectors(){const _0x24457b=a0_0x1ae58a;try{console['log'](_0x24457b(0xc3));const _0x3a3531=await fetch('https://api.github.com/repos/'+GITHUB_REPO+_0x24457b(0xb2)+SELECTORS_PATH);if(!_0x3a3531['ok'])throw new Error(_0x24457b(0x97)+_0x3a3531[_0x24457b(0x7b)]);const _0x5d1a50=await _0x3a3531[_0x24457b(0xb0)](),_0x77d11e=_0x5d1a50[_0x24457b(0x9c)](_0x6c059d=>_0x6c059d[_0x24457b(0xbd)][_0x24457b(0x9d)]('.json'));console['log'](_0x24457b(0x7c)+_0x77d11e['length']+'\x20selector\x20files');for(const _0x3dbf58 of _0x77d11e){try{const _0x167eff=_0x3dbf58[_0x24457b(0xbd)][_0x24457b(0xc2)](_0x24457b(0xb9),''),_0x1b53d7='https://raw.githubusercontent.com/'+GITHUB_REPO+_0x24457b(0xa0)+SELECTORS_PATH+'/'+_0x3dbf58[_0x24457b(0xbd)],_0x3c37ff=await fetch(_0x1b53d7);if(!_0x3c37ff['ok']){console[_0x24457b(0xba)]('CB\x20Guide\x20Toolkit:\x20Failed\x20to\x20fetch\x20'+_0x3dbf58[_0x24457b(0xbd)]+':\x20'+_0x3c37ff['status']);continue;}const _0x47f0dd=await _0x3c37ff[_0x24457b(0xb0)]();await storeSelectorConfig(_0x167eff,_0x47f0dd),console['log']('CB\x20Guide\x20Toolkit:\x20Updated\x20config\x20for\x20'+_0x167eff);}catch(_0x1cfe19){console[_0x24457b(0xbe)]('CB\x20Guide\x20Toolkit:\x20Error\x20processing\x20'+_0x3dbf58[_0x24457b(0xbd)]+':',_0x1cfe19);}}console[_0x24457b(0xad)]('CB Guide Toolkit: Selector fetch completed');}catch(_0x2421f5){console['error']('CB Guide Toolkit: Failed to fetch selectors:',_0x2421f5);}}async function storeSelectorConfig(_0x3b7a9f,_0xdf9e88){const _0x2539ad=a0_0x1ae58a;try{if(!db){console[_0x2539ad(0xbe)]('CB\x20Guide\x20Toolkit:\x20IndexedDB\x20not\x20initialized');return;}await db[_0x2539ad(0x86)]({'domain':_0x3b7a9f,'config':_0xdf9e88,'lastUpdated':new Date()[_0x2539ad(0x92)]()});}catch(_0x5030eb){console[_0x2539ad(0xbe)](_0x2539ad(0xa9)+_0x3b7a9f+':',_0x5030eb);}}async function getSelectorConfig(_0x110db0){const _0x31dfdf=a0_0x1ae58a;try{if(!db)return console[_0x31dfdf(0xbe)](_0x31dfdf(0xb7)),null;const _0x2c8b6a=await db['getSelector'](_0x110db0);if(_0x2c8b6a&&_0x2c8b6a['config'])return console['log']('CB\x20Guide\x20Toolkit:\x20Found\x20config\x20for\x20'+_0x110db0+_0x31dfdf(0x9f)),_0x2c8b6a['config'];console[_0x31dfdf(0xad)](_0x31dfdf(0x82)+_0x110db0+'\x20in\x20IndexedDB,\x20trying\x20local\x20fallback');try{return null;}catch(_0x5bd197){console[_0x31dfdf(0xbe)](_0x31dfdf(0x87)+_0x110db0+':',_0x5bd197);}return console['warn'](_0x31dfdf(0x82)+_0x110db0),null;}catch(_0x47eb8a){return console['error']('CB\x20Guide\x20Toolkit:\x20Failed\x20to\x20get\x20config\x20for\x20'+_0x110db0+':',_0x47eb8a),null;}}async function getLastUpdateTime(){const _0x35fe90=a0_0x1ae58a;try{if(!db)return console['error'](_0x35fe90(0xb7)),null;return await db['getLastUpdateTime']();}catch(_0x171827){return console[_0x35fe90(0xbe)]('CB\x20Guide\x20Toolkit:\x20Failed\x20to\x20get\x20last\x20update\x20time:',_0x171827),null;}}chrome[a0_0x1ae58a(0xbb)][a0_0x1ae58a(0x98)][a0_0x1ae58a(0x91)]((_0x56e6a3,_0x121b99,_0x399cc6)=>{const _0x1d94a1=a0_0x1ae58a;if(_0x56e6a3[_0x1d94a1(0xb5)]===_0x1d94a1(0x89)){const _0x34bb3b=_0x56e6a3[_0x1d94a1(0xaa)];return getSelectorConfig(_0x34bb3b)['then'](_0x5653ad=>{_0x399cc6({'success':!![],'config':_0x5653ad});})[_0x1d94a1(0x8c)](_0x6181bf=>{const _0x5a98d7=_0x1d94a1;console[_0x5a98d7(0xbe)](_0x5a98d7(0x93),_0x6181bf),_0x399cc6({'success':![],'error':_0x6181bf['message']});}),!![];}if(_0x56e6a3['action']===_0x1d94a1(0xa3))return fetchAllSelectors()['then'](()=>{_0x399cc6({'success':!![],'message':'Update\x20completed'});})[_0x1d94a1(0x8c)](_0x182920=>{_0x399cc6({'success':![],'error':_0x182920['message']});}),!![];if(_0x56e6a3['action']==='getLastUpdateTime')return getLastUpdateTime()[_0x1d94a1(0xa7)](_0x50d64c=>{_0x399cc6({'success':!![],'lastUpdate':_0x50d64c});})['catch'](_0x222256=>{const _0x474785=_0x1d94a1;console[_0x474785(0xbe)]('CB\x20Guide\x20Toolkit:\x20Error\x20getting\x20last\x20update\x20time:',_0x222256),_0x399cc6({'success':![],'error':_0x222256[_0x474785(0x90)]});}),!![];}),chrome['runtime'][a0_0x1ae58a(0xc4)][a0_0x1ae58a(0x91)](async()=>{const _0x455591=a0_0x1ae58a;console[_0x455591(0xad)](_0x455591(0xb4)),await initIndexedDB(),await fetchAllSelectors();});function a0_0x499e(){const _0x28c46c=['vgHLB0POyw4Vq0jhDwLKzvrVB2XlAxq','C2f2zvnLBgvJDg9Y','q0iGr3vPzguGvg9VBgTPDdOGrMfPBgvKihrVigXVywqGBg9JywWGy29UzMLNigzVCIa','mZGYmZi1ndLLv3vUEK4','z2v0u2vSzwn0B3jdB25MAwC','q0iGr3vPzguGvg9VBgTPDdOGsw5KzxHLzercigLUAxrPywXPEMvK','rxjYB3iGz2v0DgLUzYbSyxn0ihvWzgf0zsb0Aw1LoG','y2f0y2G','CMvHzhDYAxrL','z2v0','y2XLyxi','BwvZC2fNzq','ywrKtgLZDgvUzxi','Dg9ju09tDhjPBMC','q0iGr3vPzguGvg9VBgTPDdOGrxjYB3iGz2v0DgLUzYbJB25MAwC6','mtm0mJq2odbYBhbdCMK','y3jLyxrLt2jQzwn0u3rVCMu','C3LUyW','r2L0shvIiefqssbLCNjVCJOG','B25nzxnZywDL','zgjoyw1L','B2jQzwn0u3rVCMvoyw1LCW','nxrzuhPJCW','zMLSDgvY','zw5KC1DPDgG','z2v0u2vSzwn0B3i','igLUieLUzgv4zwreqG','l21HAw4V','Aw5PDa','mJzJzKjpsgO','zM9Yy2vvCgrHDgu','DhjHBNnHy3rPB24','z2v0qwXSu2vSzwn0B3jZ','zgjwzxjZAw9U','DgHLBG','B251CgDYywrLBMvLzgvK','q0iGr3vPzguGvg9VBgTPDdOGrMfPBgvKihrVihn0B3jLignVBMzPzYbMB3iG','zg9TywLU','C3rVCMvoyw1L','CMvHzg9UBhK','Bg9N','B3bLBG','CMvZDwX0','ANnVBG','y2XLyxjeyxrH','l2nVBNrLBNrZlW','zw5HyMXLza','q0iGr3vPzguGvg9VBgTPDdOGrxH0zw5ZAw9Uihn0yxj0zwq','ywn0Aw9U','y29UDgfPBNm','q0iGr3vPzguGvg9VBgTPDdOGsw5KzxHLzercig5VDcbPBML0AwfSAxPLza','C3rVCMfNzq','lMPZB24','D2fYBG','CNvUDgLTzq','q0iGr3vPzguGvg9VBgTPDdOGrxH0zw5ZAw9UigvUywjSzwqGyNKGzgvMyxvSDa','BMfTzq','zxjYB3i','ndu2odaXmvjlBhfiza','nZG2odvRv0nkALe','mJa0otKYn1Dvzu1Vwq','CMvWBgfJzq','q0iGr3vPzguGvg9VBgTPDdOGrMv0y2HPBMCGC2vSzwn0B3jZigzYB20Gr2L0shvIlI4U','B25tDgfYDhvW','B25jBNn0ywXSzwq','C3rHDhvZ','q0iGr3vPzguGvg9VBgTPDdOGrM91BMqG','C2vSzwn0B3jZ','B25LCNjVCG','BgfZDfvWzgf0zwq','B25ZDwnJzxnZ','q0iGr3vPzguGvg9VBgTPDdOGrxH0zw5ZAw9UigLUC3rHBgXLzc4','q0iGr3vPzguGvg9VBgTPDdOGtM8Gy29UzMLNigzVDw5KigzVCIa','mZG5mJy3nMXMtKHRqq','mtm2mdq3me53B2TKCW'];a0_0x499e=function(){return _0x28c46c;};return a0_0x499e();}